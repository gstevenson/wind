var App;(()=>{var t=document.getElementById("myCanvas"),e=t.getContext("2d"),n=t.width/2,o=t.height/2,a=200;function i(){e.clearRect(0,0,t.width,t.height),e.beginPath(),e.strokeStyle="black",e.lineWidth=1,e.arc(n,o,a,0,2*Math.PI),e.stroke(),s(20),s(200),s(140),s(320)}function l(t,e,n,o){t.save(),t.translate(e,n),t.rotate(o),t.beginPath(),t.moveTo(0,0),t.lineTo(-5,-10),t.lineTo(5,-10),t.closePath(),t.restore(),t.fill()}function r(t){let e=Math.round(t/10);return e>=100&&(e%=100),e.toString().padStart(2,"0")}function s(t){var i=(t-270)*(Math.PI/180),l=Math.sqrt(2)*a,s=n-l*Math.cos(i),h=o-l*Math.sin(i),d=n+l*Math.cos(i),c=o+l*Math.sin(i);e.beginPath(),e.strokeStyle="grey",e.lineWidth=4,e.moveTo(s,h),e.lineTo(d,c),e.stroke();var u=d+15*Math.cos(i-Math.PI/2),M=c+15*Math.sin(i-Math.PI/2);e.fillStyle="black",e.font="16px Arial",e.textAlign="center",e.textBaseline="middle";let g=r(t);e.fillText(g,u,M)}function h(){var t=document.getElementById("windInput").value,a=document.getElementById("windSpeed").value;if(""!==t&&""!==a){i(),function(t,a){var i=(t-90)*(Math.PI/180);e.strokeStyle="blue",e.lineWidth=1,e.beginPath(),e.moveTo(n,o),e.lineTo(n+400*Math.cos(i),o+400*Math.sin(i)),e.stroke();e.fillStyle="blue";for(var r=1;r<=3;r++){var s=n+100*r*Math.cos(i),h=o+100*r*Math.sin(i);l(e,s,h,i+Math.PI/2)}}(parseInt(t,10));var s=r(c(t));document.getElementById("idealRunwayValue").textContent=s,d(t,a,c(t))}}function d(t,e,n){var o;console.log("---"),console.log(t),console.log(e),console.log(n),console.log("---"),o=n<180?n+180:n-180,console.log(o);var a,i,l=n*Math.PI/180,r=t*Math.PI/180,s=Math.sin(l),h=Math.cos(l),d=s*Math.sin(r)+h*Math.cos(r),c=Math.acos(d),u=100,M=Math.round(u*e*Math.cos(c))/u,g=Math.round(u*e*Math.sin(c))/u;a=M>=0?"Headwind: ":"Tailwind: ",i=n<180?t>=n&&t<o?"Crosswind from Right: ":"Crosswind from Left: ":t>=n||t<o?"Crosswind from Right: ":"Crosswind from Left: ",document.getElementById("headWindValue").textContent=a+" "+M+"kt(s)",document.getElementById("crossWindValue").textContent=i+" "+g+"kt(s)"}function c(t){return[20,200,140,320].reduce(((e,n)=>{const o=Math.abs(e-t);return Math.abs(n-t)<o?n:e}))}function r(t){let e=Math.round(t/10);return e>=100&&(e%=100),e.toString().padStart(2,"0")}e.beginPath(),i(),h(),window.updateWindLine=h,window.calcWind=d,App={}})();