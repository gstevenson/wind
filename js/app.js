var App;(()=>{var t=document.getElementById("myCanvas"),e=t.getContext("2d"),n=t.width/2,a=t.height/2,o=200;function i(){e.clearRect(0,0,t.width,t.height),e.beginPath(),e.strokeStyle="black",e.lineWidth=1,e.arc(n,a,o,0,2*Math.PI),e.stroke(),r(20),r(200),r(140),r(320)}function h(t,e,n,a){t.save(),t.translate(e,n),t.rotate(a),t.beginPath(),t.moveTo(0,0),t.lineTo(-5,-10),t.lineTo(5,-10),t.closePath(),t.restore(),t.fill()}function l(t){let e=Math.round(t/10);return e>=100&&(e%=100),e.toString().padStart(2,"0")}function r(t){var i=(t-270)*(Math.PI/180),h=Math.sqrt(2)*o,r=n-h*Math.cos(i),d=a-h*Math.sin(i),s=n+h*Math.cos(i),c=a+h*Math.sin(i);e.beginPath(),e.strokeStyle="grey",e.lineWidth=4,e.moveTo(r,d),e.lineTo(s,c),e.stroke();var u=s+15*Math.cos(i-Math.PI/2),M=c+15*Math.sin(i-Math.PI/2);e.fillStyle="black",e.font="16px Arial",e.textAlign="center",e.textBaseline="middle";let g=l(t);e.fillText(g,u,M)}function d(){var t,o=document.getElementById("windInput").value,r=document.getElementById("windSpeed").value;if(""!==o&&""!==r){i(),function(t,o){var i=(t-90)*(Math.PI/180);e.strokeStyle="blue",e.lineWidth=1,e.beginPath(),e.moveTo(n,a),e.lineTo(n+400*Math.cos(i),a+400*Math.sin(i)),e.stroke();e.fillStyle="blue";for(var l=1;l<=3;l++){var r=n+100*l*Math.cos(i),d=a+100*l*Math.sin(i);h(e,r,d,i+Math.PI/2)}}(parseInt(o,10));var d=l((t=o,[20,200,140,320].reduce(((e,n)=>{const a=Math.abs(e-t);return Math.abs(n-t)<a?n:e}))));document.getElementById("idealRunwayValue").textContent=d,s(o,r,d)}}function s(t,e,n){var a=n*Math.PI/180,o=t*Math.PI/180,i=Math.sin(a),h=Math.cos(a),l=i*Math.sin(o)+h*Math.cos(o),r=Math.acos(l),d=100,s=Math.round(d*e*Math.cos(r))/d,c=Math.round(d*e*Math.sin(r))/d;document.getElementById("headWindValue").textContent=s+"kt(s)",document.getElementById("crossWindValue").textContent=c+"kt(s)"}function l(t){let e=Math.round(t/10);return e>=100&&(e%=100),e.toString().padStart(2,"0")}e.beginPath(),i(),d(),window.updateWindLine=d,window.calcWind=s,App={}})();