var App;(()=>{var t=document.getElementById("myCanvas");t.height=1*t.width;var e=t.getContext("2d"),n=t.width/2,a=t.height/2,i=50;function o(){e.clearRect(0,0,t.width,t.height),e.beginPath(),e.strokeStyle="black",e.lineWidth=1,e.arc(n,a,i,0,2*Math.PI),e.stroke(),l(20),l(200),l(140),l(320)}function r(t,e,n,a){t.save(),t.translate(e,n),t.rotate(a),t.beginPath(),t.moveTo(0,0),t.lineTo(-5,-10),t.lineTo(5,-10),t.closePath(),t.restore(),t.fill()}function h(t){let e=Math.round(t/10);return e>=100&&(e%=100),e.toString().padStart(2,"0")}function l(t){var o=(t-270)*(Math.PI/180),r=Math.sqrt(2)*i,l=n-r*Math.cos(o),d=a-r*Math.sin(o),s=n+r*Math.cos(o),c=a+r*Math.sin(o);e.beginPath(),e.strokeStyle="grey",e.lineWidth=4,e.moveTo(l,d),e.lineTo(s,c),e.stroke();var u=s+15*Math.cos(o-Math.PI/2),M=c+15*Math.sin(o-Math.PI/2);e.fillStyle="black",e.font="16px Arial",e.textAlign="center",e.textBaseline="middle";let f=h(t);e.fillText(f,u,M)}function d(){var t=document.getElementById("windInput").value,l=document.getElementById("windSpeed").value;if(""!==t&&""!==l){o(),function(t,o){var h=(t-90)*(Math.PI/180),l=i;e.strokeStyle="blue",e.lineWidth=1,e.beginPath(),e.moveTo(n,a),e.lineTo(n+l*Math.cos(h),a+l*Math.sin(h)),e.stroke();var d=l/4;e.fillStyle="blue";for(var s=1;s<=3;s++){var c=n+s*d*Math.cos(h),u=a+s*d*Math.sin(h);r(e,c,u,h+Math.PI/2)}}(parseInt(t,10));var d=h(c(t));document.getElementById("idealRunwayValue").textContent=d,s(t,l,c(t))}}function s(t,e,n){var a;a=n<180?n+180:n-180;var i,o,r=n*Math.PI/180,h=t*Math.PI/180,l=Math.sin(r),d=Math.cos(r),s=l*Math.sin(h)+d*Math.cos(h),c=Math.acos(s),u=100,M=Math.round(u*e*Math.cos(c))/u,f=Math.round(u*e*Math.sin(c))/u;i=M>=0?"Headwind: ":"Tailwind: ",o=n<180?t>=n&&t<a?"Crosswind from Right: ":"Crosswind from Left: ":t>=n||t<a?"Crosswind from Right: ":"Crosswind from Left: ",document.getElementById("headWindValue").textContent=i+" "+M+"kt(s)",document.getElementById("crossWindValue").textContent=o+" "+f+"kt(s)"}function c(t){return[20,200,140,320].reduce(((e,n)=>{const a=Math.abs(e-t);return Math.abs(n-t)<a?n:e}))}function h(t){let e=Math.round(t/10);return e>=100&&(e%=100),e.toString().padStart(2,"0")}e.beginPath(),o(),d(),window.updateWindLine=d,window.calcWind=s,App={}})();